@{
    ViewBag.Title = "Home Page";
}




<header>
    <div class="header-content">
        <div class="header-content-inner">
            <h1 id="homeHeading">Your Favorite Source of Free Bootstrap Themes</h1>
            <hr>
            <p>Start Bootstrap can help you build better websites using the Bootstrap CSS framework! Just download your template and start going, no strings attached!</p>
            <a href="#about" class="btn btn-primary btn-xl page-scroll">Find Out More</a>
        </div>
    </div>
</header>
<section class="bg-primary" id="about">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 text-center">
                <h2 class="section-heading">We've got what you need!</h2>
                <hr class="light">
                <p class="text-faded">Start Bootstrap has everything you need to get your new website up and running in no time! All of the templates and themes on Start Bootstrap are open source, free to download, and easy to use. No strings attached!</p>
                <a href="#services" class="page-scroll btn btn-default btn-xl sr-button">Get Started!</a>
            </div>
        </div>
        
            <div class="row">
                <div class="col-lg-2 center-block col-lg-offset-4">

                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for garage by garage id" id="origin_location">
                    </div><!-- /input-group -->
                </div>

                <div class="col-lg-2">
                    <div class="input-group">

                        <input type="text" class="form-control" placeholder="Search for garage by garage id" id="destination">
                    </div><!-- /input-group -->
                </div><!-- /.col-lg-6 -->
            </div>
        </div>
    
</section>

<section id="map_section">

        <div class="row" id="map_container">



            <div class="col-lg-8" id="map_canvas">


            </div>

            <div class="col-lg-4" id="right-panel">


            </div>




        </div>


</section>
<section id="services">
   
        <div class="row" id="servicesTitle">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">At Your Service</h2>
                <hr class="primary">
            </div>
        </div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 text-center">
                <div class="service-box">
                    <i class="fa fa-4x fa-flag sr-icons"></i>
                    <h3>Sturdy Templates</h3>
                    <p class="text-muted">Our templates are updated regularly so they don't break.</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 text-center">
                <div class="service-box">
                    <i class="fa fa-4x fa-paper-plane text-primary sr-icons"></i>
                    <h3>Ready to Ship</h3>
                    <p class="text-muted">You can use this theme as is, or you can make changes!</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 text-center">
                <div class="service-box">
                    <i class="fa fa-4x fa-newspaper-o text-primary sr-icons"></i>
                    <h3>Up to Date</h3>
                    <p class="text-muted">We update dependencies to keep things fresh.</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 text-center">
                <div class="service-box">
                    <i class="fa fa-4x fa-heart text-primary sr-icons"></i>
                    <h3>Made with Love</h3>
                    <p class="text-muted">You have to make your websites with love these days!</p>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="no-padding" id="portfolio">
    <div class="container-fluid">
        <div class="row no-gutter popup-gallery">
            <div class="col-lg-4 col-sm-6">
                <a href="img/portfolio/fullsize/1.jpg" class="portfolio-box">
                    <img src="~/Content/img/portfolio/thumbnails/1.jpg" class="img-responsive" alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Category
                            </div>
                            <div class="project-name">
                                Project Name
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4 col-sm-6">
                <a href="img/portfolio/fullsize/2.jpg" class="portfolio-box">
                    <img src="img/portfolio/thumbnails/2.jpg" class="img-responsive" alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Category
                            </div>
                            <div class="project-name">
                                Project Name
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4 col-sm-6">
                <a href="img/portfolio/fullsize/3.jpg" class="portfolio-box">
                    <img src="img/portfolio/thumbnails/3.jpg" class="img-responsive" alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Category
                            </div>
                            <div class="project-name">
                                Project Name
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4 col-sm-6">
                <a href="img/portfolio/fullsize/4.jpg" class="portfolio-box">
                    <img src="img/portfolio/thumbnails/4.jpg" class="img-responsive" alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Category
                            </div>
                            <div class="project-name">
                                Project Name
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4 col-sm-6">
                <a href="img/portfolio/fullsize/5.jpg" class="portfolio-box">
                    <img src="img/portfolio/thumbnails/5.jpg" class="img-responsive" alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Category
                            </div>
                            <div class="project-name">
                                Project Name
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4 col-sm-6">
                <a href="img/portfolio/fullsize/6.jpg" class="portfolio-box">
                    <img src="img/portfolio/thumbnails/6.jpg" class="img-responsive" alt="">
                    <div class="portfolio-box-caption">
                        <div class="portfolio-box-caption-content">
                            <div class="project-category text-faded">
                                Category
                            </div>
                            <div class="project-name">
                                Project Name
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>
<aside class="bg-dark">
    <div class="container text-center">
        <div class="call-to-action">
            <h2>Free Download at Start Bootstrap!</h2>
            <a href="http://startbootstrap.com/template-overviews/creative/" class="btn btn-default btn-xl sr-button">Download Now!</a>
        </div>
    </div>
</aside>
<section id="contact">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 text-center">
                <h2 class="section-heading">Let's Get In Touch!</h2>
                <hr class="primary">
                <p>Ready to start your next project with us? That's great! Give us a call or send us an email and we will get back to you as soon as possible!</p>
            </div>
            <div class="col-lg-4 col-lg-offset-2 text-center">
                <i class="fa fa-phone fa-3x sr-contact"></i>
                <p>123-456-6789</p>
            </div>
            <div class="col-lg-4 text-center">
                <i class="fa fa-envelope-o fa-3x sr-contact"></i>
                <p><a href="mailto:your-email@your-domain.com">feedback@startbootstrap.com</a></p>
            </div>
        </div>
    </div>
</section>




    <!-- Script init the google maps api and places the map within the map_canvas div-->
    <script type="text/javascript">

        $(document).ready(function () {

            $("#map_canvas").css("width", "100%");
            $('#right-panel').css("width", "0px");
            

        }); 

        function MapIntialize() {
            var location_place_id = null;
            var destination_place_id = null;
            var directionServices = new google.maps.DirectionsService;
            var directionDisplay = new google.maps.DirectionsRenderer;
            var userPosition;
            var travel_mode = 'BICYCLING';
            //tells the api to use the new UI
            // google.maps.visualRefresh = true;
            //var Dublin = new google.maps.LatLng(53.3498, 6.2603);
            var mapOptions = {

                zoom: 14,
               // center: { lat: 53.3498, lng: -6.2603 },
                // mapTypeId: google.maps.MapTypeId.G_NORMAL_MAP
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                mapTypeControl: false
            };
            //get the geo corridnates of the user and create and focus the map
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    map.setCenter(pos);

                }, function () {
                    alert("The Geolocation service failed." + "\n" + "Your browswer doesnt support Geolocation");
                });
            } else {
                alert("The Geolocation service failed." + "\n" + "Your browswer doesnt support Geolocation");
            }

            var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
            //map.setCenter(userPosition);
            directionDisplay.setMap(map);
            directionDisplay.setPanel(document.getElementById('right-panel'));




            var location_origin_input = document.getElementById("origin_location");
            //geting the destination search box and pushing it to the left of the map
            var desination_input = document.getElementById("destination");

            // map.controls[google.maps.ControlPosition.TOP_LEFT].push('destination');

            var location_autocomplete = new google.maps.places.Autocomplete(location_origin_input);
            location_autocomplete.bindTo('bounds', map);

            var destination_autocomplete = new google.maps.places.Autocomplete(desination_input);
            destination_autocomplete.bindTo('bounds', map);


            function expandViewPortToFitPlace(map, place) {
                if (place.geometry.viewport) {
                    map.fitBounds(place.geometry.viewport);
                } else {
                    map.setCenter(place.geometry.location);
                    map.setZoom(17);
                }

            }


            location_autocomplete.addListener('place_changed', function () {
                var place = location_autocomplete.getPlace();
                if (!place.geometry) {
                    window.alert('Autocompletes returned place contains no geometry');
                    return;
                }
                expandViewPortToFitPlace(map, place);

                //if the destination does have a geometry, store its place ID and route
                location_place_id = place.place_id;
                //calculateUserRouteAndDisplay(directionServices, directionDisplay, userPosition, destination_place_id);
                calculateUserRouteAndDisplay(directionServices, directionDisplay, location_place_id, destination_place_id, travel_mode);
            });


            //get the destination and calculate the route for cycling
            destination_autocomplete.addListener('place_changed', function () {

                var place = destination_autocomplete.getPlace();
                if (!place.geometry) {
                    window.alert('Autocompletes returned place contains no geometry');
                    return;
                }
                expandViewPortToFitPlace(map, place);

                //if the destination does have a geometry, store its place ID and route
                destination_place_id = place.place_id;
                calculateUserRouteAndDisplay(directionServices, directionDisplay, location_place_id, destination_place_id, travel_mode);
            });


            //set up the the event handler to search for route of
            /*  var onChangeEventHandler = function () {
                  window.alert('Made it to onChangeHandler');
                  //call the calculate route function
                  calculateUserRouteAndDisplay(directionServices, directionDisplay, userPosition);
              }; */

            //  document.getElementById('searchBtn').addEventListener('click', onChangeEventHandler);


            function calculateUserRouteAndDisplay(directionServices, directionDisplay, location_place_id, destination_place_id, travel_mode) {

                window.alert('made it to calculate routes');

                if (!location_place_id || !destination_place_id) {
                    return;
                } else {

                    directionServices.route({

                        origin: { 'placeId': location_place_id },
                        destination: { 'placeId': destination_place_id },
                        //travelMode: travel_mode
                        travelMode: google.maps.DirectionsTravelMode[travel_mode]


                    }, function (response, status) {
                        console.log(response);
                        if (status === 'OK') {
                            $("#map_canvas").css("width", "60%");
                            $('#right-panel').css("height", "400px");
                            directionDisplay.setDirections(response);
                        } else {
                            window.alert('Directions request failed due to' + status);
                        }

                    });
                }
            }







        }

    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCsAesXr_ahVup11biiPr5y5qPr3uMRI1A&libraries=places&callback=MapIntialize"
            async defer></script>
    <!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCsAesXr_ahVup11biiPr5y5qPr3uMRI1A&callback=MapIntialize"
            async defer></script>-->


    <!-- jQuery -->
<script src="~/Content/vendor/jquery/jquery.min.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="~/Content/vendor/bootstrap/js/bootstrap.min.js" "></script>
<!-- Plugin JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script src="~/Content/vendor/scrollreveal/scrollreveal.min.js"></script>
<script src="~/Content/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>
<!-- Theme JavaScript -->
<script src="~/Scripts/creative.min.js"></script>

